{"version":3,"file":"Image.js","sources":["../../../src/ol/style/Image.js"],"sourcesContent":["/**\n * @module ol/style/Image\n */\n\n\n/**\n * @typedef {Object} Options\n * @property {number} opacity\n * @property {boolean} rotateWithView\n * @property {number} rotation\n * @property {number} scale\n * @property {boolean} snapToPixel\n */\n\n\n/**\n * @classdesc\n * A base class used for creating subclasses and not instantiated in\n * apps. Base class for {@link module:ol/style/Icon~Icon}, {@link module:ol/style/Circle~CircleStyle} and\n * {@link module:ol/style/RegularShape~RegularShape}.\n * @api\n */\nclass ImageStyle {\n  /**\n   * @param {module:ol/style/Image~Options} options Options.\n   */\n  constructor(options) {\n\n    /**\n    * @private\n    * @type {number}\n    */\n    this.opacity_ = options.opacity;\n\n    /**\n    * @private\n    * @type {boolean}\n    */\n    this.rotateWithView_ = options.rotateWithView;\n\n    /**\n    * @private\n    * @type {number}\n    */\n    this.rotation_ = options.rotation;\n\n    /**\n    * @private\n    * @type {number}\n    */\n    this.scale_ = options.scale;\n\n    /**\n    * @private\n    * @type {boolean}\n    */\n    this.snapToPixel_ = options.snapToPixel;\n\n  }\n\n  /**\n  * Get the symbolizer opacity.\n  * @return {number} Opacity.\n  * @api\n  */\n  getOpacity() {\n    return this.opacity_;\n  }\n\n  /**\n  * Determine whether the symbolizer rotates with the map.\n  * @return {boolean} Rotate with map.\n  * @api\n  */\n  getRotateWithView() {\n    return this.rotateWithView_;\n  }\n\n  /**\n  * Get the symoblizer rotation.\n  * @return {number} Rotation.\n  * @api\n  */\n  getRotation() {\n    return this.rotation_;\n  }\n\n  /**\n  * Get the symbolizer scale.\n  * @return {number} Scale.\n  * @api\n  */\n  getScale() {\n    return this.scale_;\n  }\n\n  /**\n  * Determine whether the symbolizer should be snapped to a pixel.\n  * @return {boolean} The symbolizer should snap to a pixel.\n  * @api\n  */\n  getSnapToPixel() {\n    return this.snapToPixel_;\n  }\n\n  /**\n  * Get the anchor point in pixels. The anchor determines the center point for the\n  * symbolizer.\n  * @abstract\n  * @return {Array.<number>} Anchor.\n  */\n  getAnchor() {}\n\n  /**\n  * Get the image element for the symbolizer.\n  * @abstract\n  * @param {number} pixelRatio Pixel ratio.\n  * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\n  */\n  getImage(pixelRatio) {}\n\n  /**\n  * @abstract\n  * @param {number} pixelRatio Pixel ratio.\n  * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\n  */\n  getHitDetectionImage(pixelRatio) {}\n\n  /**\n  * @abstract\n  * @return {module:ol/ImageState} Image state.\n  */\n  getImageState() {}\n\n  /**\n  * @abstract\n  * @return {module:ol/size~Size} Image size.\n  */\n  getImageSize() {}\n\n  /**\n  * @abstract\n  * @return {module:ol/size~Size} Size of the hit-detection image.\n  */\n  getHitDetectionImageSize() {}\n\n  /**\n  * Get the origin of the symbolizer.\n  * @abstract\n  * @return {Array.<number>} Origin.\n  */\n  getOrigin() {}\n\n  /**\n  * Get the size of the symbolizer (in pixels).\n  * @abstract\n  * @return {module:ol/size~Size} Size.\n  */\n  getSize() {}\n\n  /**\n  * Set the opacity.\n  *\n  * @param {number} opacity Opacity.\n  * @api\n  */\n  setOpacity(opacity) {\n    this.opacity_ = opacity;\n  }\n\n  /**\n  * Set whether to rotate the style with the view.\n  *\n  * @param {boolean} rotateWithView Rotate with map.\n  * @api\n  */\n  setRotateWithView(rotateWithView) {\n    this.rotateWithView_ = rotateWithView;\n  }\n\n  /**\n  * Set the rotation.\n  *\n  * @param {number} rotation Rotation.\n  * @api\n  */\n  setRotation(rotation) {\n    this.rotation_ = rotation;\n  }\n\n  /**\n  * Set the scale.\n  *\n  * @param {number} scale Scale.\n  * @api\n  */\n  setScale(scale) {\n    this.scale_ = scale;\n  }\n\n  /**\n  * Set whether to snap the image to the closest pixel.\n  *\n  * @param {boolean} snapToPixel Snap to pixel?\n  * @api\n  */\n  setSnapToPixel(snapToPixel) {\n    this.snapToPixel_ = snapToPixel;\n  }\n\n  /**\n  * @abstract\n  * @param {function(this: T, module:ol/events/Event)} listener Listener function.\n  * @param {T} thisArg Value to use as `this` when executing `listener`.\n  * @return {module:ol/events~EventsKey|undefined} Listener key.\n  * @template T\n  */\n  listenImageChange(listener, thisArg) {}\n\n  /**\n  * Load not yet loaded URI.\n  * @abstract\n  */\n  load() {}\n\n  /**\n  * @abstract\n  * @param {function(this: T, module:ol/events/Event)} listener Listener function.\n  * @param {T} thisArg Value to use as `this` when executing `listener`.\n  * @template T\n  */\n  unlistenImageChange(listener, thisArg) {}\n}\n\nexport default ImageStyle;\n"],"names":[],"mappings":"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"}